{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/web-components.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n#===========================================================================================================\nglobalThis.web_components = {}\nstate                     = { count: 0, }\nlog                       = ( P... ) -> console.log ++state.count, P...\nset_getter                = ( owner, name, get ) -> Object.defineProperty owner, name, { get, }\nµ                         = require 'mudom'\n{ HTML, }                 = require '/lib/string-markers'\n{ SUBSIDIARY }            = require 'subsidiary'\n\n\n#===========================================================================================================\ncustomElements.define 'my-spinner', class web_components.My_spinner extends HTMLElement\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ->\n    ### SVG thx to https://github.com/SamHerbert/SVG-Loaders/blob/master/svg-loaders/circles.svg ###\n    super()\n    @attachShadow { mode: 'open' }\n    @shadowRoot.innerHTML = HTML\"\"\"<style>\n      div {\n        opacity:  0;\n        width:    135px;\n        height:   135px }\n      </style><div>\n      <svg width=\"135\" height=\"135\" viewBox=\"0 0 135 135\" fill=\"#f88\">\n        <path d=\"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z\">\n        <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 67 67\" to=\"-360 67 67\" dur=\"2.5s\" repeatCount=\"indefinite\"/>\n        </path>\n        <path d=\"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z\">\n        <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 67 67\" to=\"360 67 67\" dur=\"8s\" repeatCount=\"indefinite\"/>\n        </path>\n        </svg>\n        </div>\"\"\"\n    return undefined\n\n\n  #---------------------------------------------------------------------------------------------------------\n  connectedCallback: ->\n    log \"spinner added to page.\"\n    # log '^webc@325-1^', µ\n    # log '^webc@325-2^', µ.DOM\n    # log '^webc@325-3^', µ.DOM.on @, 'E', -> log '^webc@325-4^', \"received `E`\"\n    return null\n\n\n#===========================================================================================================\ncustomElements.define 'my-counter', class web_components.My_counter extends HTMLElement\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ->\n    super()\n    @attachShadow { mode: 'open' }\n    @shadowRoot.innerHTML = HTML\"\"\"\n      <style>\n        div {\n          width:    10mm;\n          height:   10mm;\n          outline:  1px solid red; }\n        </style><div id=digit>0</div>\n      \"\"\"\n    #.......................................................................................................\n    set_getter @, '$style', -> @shadowRoot.querySelector 'style'\n    set_getter @, '$div',   -> @shadowRoot.querySelector 'div'\n    #.......................................................................................................\n    SUBSIDIARY.tie_one\n      host:             @\n      host_key:         '_'\n      subsidiary_key:   '$'\n      enumerable:       true\n      subsidiary:       sub = @constructor.$\n    intertalk.on 'counter-increment', ( P... ) => @$.on_counter_increment.call sub, P...\n    #.......................................................................................................\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  @$:\n\n    #-------------------------------------------------------------------------------------------------------\n    on_counter_increment: ( note ) ->\n      # log '^webc@325-5^', \"counter-increment\"\n      counter = parseInt @_.$div.textContent, 10\n      if counter is 9 then  @_.$div.textContent = 0\n      else                  @_.$div.textContent = counter + 1\n      return null\n\n    #-------------------------------------------------------------------------------------------------------\n    on_counter_set: ( note ) ->\n      ### TAINT validate.integer ###\n      @_.$div.textContent = note.$value\n      return null\n\n  #---------------------------------------------------------------------------------------------------------\n  connectedCallback: ->\n    log \"counter added to page.\"\n    log '^webc@325-7^', @\n    log '^webc@325-8^', @outerHTML\n    log '^webc@325-9^', @attributes\n    log '^webc@325-10^', Array.from @attributes\n    log '^webc@325-11^', [ kv.nodeName, kv.nodeValue, ] for kv in [ @attributes... ]\n    ### TAINT implement µDOM method ###\n    log '^webc@325-11^', Object.fromEntries ( [ kv.name, kv.value, ] for kv in @attributes )\n    return null\n\n\n\n#===========================================================================================================\ncustomElements.define 'custom-square', class web_components.Custom_Square extends HTMLElement\n\n  #---------------------------------------------------------------------------------------------------------\n  @state: { count: 0, }\n  set_getter @, 'observedAttributes', -> [ 'color', 'size', ]\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ->\n    super()\n    @constructor.state.count++\n    @attachShadow { mode: 'open' }\n    @shadowRoot.innerHTML = HTML\"\"\"<style></style><div>#{@constructor.state.count}</div>\"\"\"\n    set_getter @, '$style', -> @shadowRoot.querySelector 'style'\n    set_getter @, '$div',   -> @shadowRoot.querySelector 'div'\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  connectedCallback: ->\n    log \"Custom square element added to page.\"\n    ### TAINT could be systematized with template attributes ###\n    @setAttribute 'size',   '100px'   unless ( @getAttribute 'size'   )?\n    @setAttribute 'color',  'yellow'  unless ( @getAttribute 'color'  )?\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  disconnectedCallback: -> log \"Custom square element removed from page.\"\n  adoptedCallback: -> log \"Custom square element moved to new page.\"\n\n  #---------------------------------------------------------------------------------------------------------\n  attributeChangedCallback: ( name, prv_value, value ) ->\n    log \"Custom square element attributes changed:\", { name, value, }\n    @_update_style()\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  _update_style: ->\n    @$style.textContent = \"\"\"\n      div {\n        width:            #{@getAttribute 'size'};\n        height:           #{@getAttribute 'size'};\n        background-color: #{@getAttribute 'color'}; }\"\"\"\n    return null\n\n\n\n\n# µ.DOM.on document, 'E', ( event ) ->\n#   log '^document@3^', event\n# µ.DOM.emit_custom_event 'E', { key: 1, }\n# µ.DOM.ready ->\n#   log '^document@4^', \"ready\"\n#   µ.DOM.on ( µ.DOM.select_first '#spinner' ), 'E', ( event ) ->\n#     log '^spinner@1^', event\n#   µ.DOM.emit_custom_event 'E', { key: 1, }\n\n# µ.DOM.emit_custom_event 'E', { key: 1, }\nµ.DOM.ready ->\n  log '^document@4^', \"ready\"\n  # spinner = µ.DOM.select_first '#spinner'\n  # do =>\n  #   handler = ( event ) ->\n  #     log 'document', event.detail, event.detail.to, event.detail.to is @\n  #     if ( event.detail?.to )? and event.detail.to isnt @\n  #       event.detail.to.dispatchEvent event\n  #   document.addEventListener 'E', handler, { capture: false, passive: false, }\n  #   return null\n  # do =>\n  #   handler = ( event ) -> log 'spinner', event.detail\n  #   spinner.addEventListener 'E', handler, { capture: false, passive: false, }\n  #   return null\n  # # µ.DOM.emit_custom_event 'E', { key: 1, }\n  # document.dispatchEvent new CustomEvent 'E', { detail: { key: 1, } }\n  # spinner.dispatchEvent new CustomEvent 'E', { detail: { key: 2, } }\n  # # document.dispatchEvent new CustomEvent 'E', { detail: { to: document, key: 3, } }\n  # document.dispatchEvent new CustomEvent 'E', { detail: { to: spinner, key: 4, } }\n"
  ]
}